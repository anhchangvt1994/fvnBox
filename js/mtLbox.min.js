$(function(i){i.fn.mtLbox=function(n){var d=i(this)[0].id,e=i(this)[0].className,o=" "==d?"#"+d:0==e.split(" ").length?"."+e:"."+e.split(" ")[0],l=i(i(this).find("img"));void 0===n&&(n={suffixImg:void 0}),t.init(o,n,l)};var t={init:function(i,t,n){this.setup(i,t,n)},setup:function(t,n,d){function e(i){var t=i.attr("src"),d=t.split("/")[t.split("/").length-1];return"<img src='"+(t.split(d)[0]+d.split(".")[0]+"-"+n.suffixImg+"."+d.split(".")[1])+"'>"}function o(i,t){if(i>a&&(l=a/i*100,i=a,t=t*l/100),t>s&&(l=s/t*100,t=s,i=i*l/100),!(i>a||t>s))return{trueWidth:i,trueHeight:t};arguments.callee(i,t)}var l,h,a=i(window).outerWidth(!0)<=375?90*i(window).outerWidth(!0)/100:80*i(window).outerWidth(!0)/100,s=i(window).outerHeight(!0)<=375?90*i(window).outerHeight(!0)/100:80*i(window).outerHeight(!0)/100;i("body").append('<div class="fullImg hidden">                                    <div class="imgBox">                                    </div>                                   </div>                                   <div class="navBox hidden">                                    <span class="prevBtn">&nbsp;</span>                                    <span class="close-lightBox"></span>                                    <span class="nextBtn">&nbsp;</span>                                   </div>');var r=0!=i(t).find("a").length?"a":0!=i(t).find("li").length?"li":0!=i(t).find("div").length?"div":0!=i(t).find("dd").length?"dd":"img";console.log(r),"img"!=r&&i(t).find(r).click(function(t){t.preventDefault(),i(this).find("img").click()}),i(t).find("img").click(function(t){t.preventDefault();var l,a,s=50;void 0!==n.suffixImg?(i("body").find(".fullImg").append(e(i(this))).removeClass("hidden"),s=0):i("body").find(".fullImg").append(i(this)[0].outerHTML),i(".fullImg").find("img").load(function(){l=o(i(this).prop("naturalWidth"),i(this).prop("naturalHeight")).trueWidth,a=o(i(this).prop("naturalWidth"),i(this).prop("naturalHeight")).trueHeight,i("body").find(".fullImg").removeClass("hidden"),i("body").find(".navBox").removeClass("hidden"),i("body").find(".fullImg img").attr({width:l,height:a}),setTimeout(function(){i("body").find(".fullImg img").addClass("appearOpa")},200),setTimeout(function(){i("body").find(".imgBox").css({width:l+20,height:a+20}),i("body").find(".navBox").css({width:l+20,height:a+20})},s)});var r=i(this);return d.each(function(t){r.attr("src")==i(this).attr("src")&&(h=t)}),!1}),i(".navBox").on("click",".prevBtn, .nextBtn",function(){"prevBtn"==i(this)[0].className?h>0?h--:h=i(t).find("img").length-1:"nextBtn"==i(this)[0].className&&(h<i(t).find("img").length-1?h++:h=0);var n=i(t).find("img")[h],d=o(i(n).prop("naturalWidth"),i(n).prop("naturalHeight")).trueWidth,e=o(i(n).prop("naturalWidth"),i(n).prop("naturalHeight")).trueHeight;setTimeout(function(){i("body").find(".fullImg").append(i(n)[0].outerHTML),i("body").find(".imgBox").css({width:d+20,height:e+20}),i("body").find(".navBox").css({width:d+20,height:e+20}),setTimeout(function(){i("body").find(".fullImg").children().eq(1).attr({width:d,height:e}).removeClass("appearOpa"),console.log(i("body").find(".fullImg").children().eq(1)),setTimeout(function(){i("body").find(".fullImg").children().eq(2).attr({width:d,height:e}).addClass("appearOpa"),console.log(i("body").find(".fullImg").children().eq(2))},150)},100),setTimeout(function(){if(i("body").find(".fullImg").children().eq(1).remove(),!i("body").find(".fullImg img").hasClass("appearOpa")){var t=o(i(n).prop("naturalWidth"),i(n).prop("naturalHeight")).trueWidth,d=o(i(n).prop("naturalWidth"),i(n).prop("naturalHeight")).trueHeight;i("body").find(".fullImg img").attr({width:t,height:d}).addClass("appearOpa")}},500)},150)}),i(".navBox").on("click",".close-lightBox",function(){i(".fullImg").addClass("hidden").find("img").remove(),i(".fullImg").find(".imgBox").css({width:"",height:""}),i(this).parent().addClass("hidden")}),i(window).resize(function(){i(this).outerWidth(!1)<=375&&!i(".fullImg").hasClass("hidden")?(a=90*i(this).outerWidth(!1)/100,s=90*i(this).outerHeight(!1)/100):(a=80*i(this).outerWidth(!1)/100,s=80*i(this).outerHeight(!1)/100);var t=o(i("body").find(".fullImg img").prop("naturalWidth"),i("body").find(".fullImg img").prop("naturalHeight")).trueWidth,n=o(i("body").find(".fullImg img").prop("naturalWidth"),i("body").find(".fullImg img").prop("naturalHeight")).trueHeight;i("body").find(".fullImg img").css({width:t,height:n}),i("body").find(".imgBox").css({width:t+20,height:n+20}),i("body").find(".navBox").css({width:t+20,height:n+20})})}}});