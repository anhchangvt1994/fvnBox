$(function(t){var i,e,n,a,o,s="",d="",l="",m=!1,f={};t.fn.fvnBox=function(i,e){if(t(this).length>1){const e=this;return{except:function(n){console.log("run");var a=!1;return setTimeout(function(){a||e.each(function(e,a){t(a).fvnBox({suffixImg:i.suffixImg,number:i.number,caption:i.caption,w:i.w,h:i.h},e).except(n)})},0),{slick:function(o){a=!0,e.each(function(e,a){t(a).fvnBox({suffixImg:i.suffixImg,number:i.number,caption:i.caption,w:i.w,h:i.h},e).except(n).slick(o)})}}},slick:function(n){e.each(function(e,a){t(a).fvnBox({suffixImg:i.suffixImg,number:i.number,caption:i.caption,w:i.w,h:i.h},e).except(void 0).slick(n)})}}}0===t("body").find(".fullImg").length&&(t("<link>").appendTo("head").attr({rel:"stylesheet",type:"text/css",href:"css/fancy.css"}),t("body").append('<div class="fullImg hidden"><span class="close-lightBox"></span><div class="imgBox"></div></div><div class="fvnInforBox hidden"><span class="fvnNumber"></span><span class="fvnCaption"></span></div><div class="navBox hidden"><span class="prevBtn">&nbsp;</span><span class="close-lightBox"></span><span class="nextBtn">&nbsp;</span></div>'),t(window).resize(function(){g.setResizeImg({width:a,height:o})}),g.detectDevice()?t(".fullImg").addClass("fvnNavBox"):t(".navBox").addClass("fvnNavBox"),g.settingRemoveFunc()),void 0===e&&(e="1");for(var n="fvnBox"+(e<10?"0"+e:e);0!==t(t("body").find("."+n)).length;)n="fvnBox"+(++e<10?"0"+e:e);t(this).addClass(n),n="."+n,void 0!==i&&("suffixImg"in i?void 0!==i.suffixImg&&setTimeout(function(){g.init({opt:"setSuffix",suffix:i.suffixImg})},0):i.suffixImg=void 0);var s=!1;return t(t(n).find("img")).attr("data-except",!1),setTimeout(function(){s||g.setListImg(n,i)},0),{except:function(t,e=n,a=i){return s=!0,g.except(t,e,a),{slick:function(t,e=n){g.slick(e,t,i)}}},slick:function(t,i=n){setTimeout(function(){g.slick(i,t)},0)}}};var r={init:function(t,i,e){this.setup(t,i,e)},setup:function(e,n,f){function r(){t(".navBox"+s).on("touchstart",function(i){t("body").addClass("preventWindowScroll"),p=i.originalEvent.touches[0].pageX,v=0}).on("touchmove",function(t){var i=c.dragAnimate({event:t,prevPoint:p,distance:v,outImg:!1});p=i.prevPoint,v=i.distance}).on("touchend",function(){t("body").removeClass("preventWindowScroll");c.dragAnimate({prevPoint:p,distance:v,outImg:!0,imgs:d,opt:l})}),t(".fullImg").on("touchstart",".close-lightBox",function(){return s=u.settingClose(s,t(this)),!1})}function h(){t(".navBox"+s).on("click",".prevBtn, .nextBtn, .close-lightBox",function(){if("close-lightBox"!=t(this)[0].className){var i=u.detectContinueImg(s,t(this));void 0!==i&&c.mainAnimate({item:t(i),imgs:d,opt:l})}else s=u.settingClose(s,t(this))})}var p,v,x=0!=t(e).find("a").length?"a":0!=t(e).find("li").length?"li":0!=t(e).find("div").length?"div":0!=t(e).find("dd").length?"dd":"img";u.detectEvent({obj:e,tg:x}),t(e).find("img").on("touchstart click",function(u){if("true"==t(this).attr("data-except")){var p=t(u.target).parents("a");p.length>=1&&"#"==t(p[0]).attr("href")&&t(p[0]).on("click",function(t){t.preventDefault()})}else{if(a=n.w,o=n.h,g.init({opt:"setSizePercent",width:n.w,height:n.h}),s=e,d=f,l=n,i=t(this).attr("data-index"),t(".navBox").addClass(e.split(".")[1]),!g.detectDevice())return c.mainAnimate({item:t(this),imgs:f,opt:n}),m||(setTimeout(function(){h(),r()},0),m=!0),!1;var v=!1;t(document).on("touchmove",function(){v=!0}),t(this).on("touchend",function(i){v?v=!1:c.mainAnimate({item:t(this),imgs:f,opt:n}),m||(setTimeout(function(){h(),r()},0),m=!0),i.preventDefault()})}})}},c={mainAnimate:function(i){if(void 0===i.type){var e,n,a=50;i.opt.caption&&(n=i.item.attr("alt")),void 0!==i.opt.suffixImg?(void 0===i.item.attr("data-src")&&i.item.attr("data-src",u.detectSuffixImage(i.item,i.opt.suffixImg)),t("body").find(".fullImg").append("<img src="+i.item.attr("data-src")+">").removeClass("hidden"),e=i.item.attr("data-src"),a=0):(t("body").find(".fullImg").append(i.item[0].outerHTML),e=i.item.attr("src")),t(t(".fullImg").find("img")).length>2&&t(".fullImg").find("img")[0].remove(),u.settingTimer(i.opt,e,a,n,t(i.imgs).length)}},dragAnimate:function(i){if(void 0===i.type){if(!i.outImg){var e,n,a=i.event.originalEvent.touches[0].pageX;return void 0===t(t(".fullImg").find("img"))[1]?(t(t(".fullImg").find("img")).removeClass("returnAnimate quickMove").addClass("noneAnimate"),t(t(".fullImg").find(".imgBox")).removeClass("returnAnimate quickMove").addClass("noneAnimate")):(t(t(".fullImg").find("img")[0]).removeClass("returnAnimate").addClass("quickMove"),t(t(".fullImg").find(".imgBox")[0]).removeClass("returnAnimate").addClass("quickMove")),e=t(".fullImg img").offset().left,n=t(".fullImg .imgBox").offset().left,a>i.prevPoint?(e+=5,n+=5,i.distance=i.distance+1):(e-=5,n-=5,i.distance=i.distance-1),t(".fullImg img").offset({left:e}),t(".fullImg .imgBox").offset({left:n}),t(".navBox").offset({left:n}),{prevPoint:i.event.originalEvent.touches[0].pageX,distance:i.distance}}var o,d=!1;if(o=t(".fullImg img").hasClass("quickMove")?3:7,t(".fullImg img").removeClass("noneAnimate quickMove"),t(".fullImg .imgBox").removeClass("noneAnimate quickMove"),i.distance>=o?(t(".fullImg img").addClass("outAnimate").css("left","100%"),t(".fullImg .imgBox").addClass("outAnimate").css("left","100%"),d=!0):i.distance<=-o?(t(".fullImg img").addClass("outAnimate").css("left",0),t(".fullImg .imgBox").addClass("outAnimate").css("left",0),d=!0):(t(".fullImg img").addClass("returnAnimate").css("left",""),t(".fullImg .imgBox").addClass("returnAnimate").css("left","")),d){var l=t(".fullImg img");imgBox=t(".fullImg .imgBox"),t(".navBox").addClass("noneAnimate"),t(".fullImg").append("<div class='imgBox'></div>");var m=imgBox[0].clientHeight,f=imgBox[0].clientWidth;setTimeout(function(){var e=u.detectContinueImg(s,i.distance>=o?[{className:"nextBtn"}]:[{className:"prevBtn"}]);c.mainAnimate({item:t(e),imgs:i.imgs,opt:i.opt})},50),setTimeout(function(){l.css({height:l.height()/3,width:l.width()/3}),imgBox.css({height:imgBox[0].clientHeight/2+"px !important",width:imgBox[0].clientWidth/2+"px !important"})},70),setTimeout(function(){imgBox.css({height:m,width:f})},600),setTimeout(function(){l.addClass("remove"),imgBox.addClass("remove")},980),setTimeout(function(){t(".fullImg .remove").remove()},1e3)}t(".navBox").css("left","")}}},u={detectEvent:function(t){},detectSuffixImage:function(i,e){var n,a=i.attr("src"),o=a.split("/")[t(this).length];if(void 0!==f)return t.each(f[e],function(t,i){if(o.split(".")[0]==i)return void(n=a.split(o)[0]+o.split(".")[0]+"-"+e+"."+o.split(".")[1])}),void 0===n&&(n=a),n;n=a},detectImageSize:function(t,i){if(t>e&&(currentPercent=e/t*100,t=e,i=i*currentPercent/100),i>n&&(currentPercent=n/i*100,i=n,t=t*currentPercent/100),!(t>e||i>n))return{trueWidth:t,trueHeight:i};arguments.callee(t,i)},detectContinueImg:function(t,e){if(""!=t)return"prevBtn"==e[0].className?i>0?i--:i=d.length-1:"nextBtn"==e[0].className&&(i<d.length-1?i++:i=0),d[i]},settingTimer:function(e,n,a,o,s){t(".fullImg").find("img[src*='"+n+"']").load(function(){trueW=u.detectImageSize(t(this).prop("naturalWidth"),t(this).prop("naturalHeight")).trueWidth,trueH=u.detectImageSize(t(this).prop("naturalWidth"),t(this).prop("naturalHeight")).trueHeight,t("body").find(".fullImg").removeClass("hidden"),t("body").find(".navBox").removeClass("hidden"),t("body").find(".fvnInforBox").removeClass("hidden"),t("body").find(".fullImg img").css({width:parseInt(trueW),height:parseInt(trueH)}),setTimeout(function(){var i=0;2==t(t(".fullImg").find("img")).length&&(t(t(".fullImg").find("img")[0]).removeClass("appearOpa").addClass("disappearOpa"),i=1),t(t(".fullImg").find("img")[i]).addClass("appearOpa")},200),setTimeout(function(){t("body").find(".imgBox").css({width:parseInt(trueW)+10,height:parseInt(trueH)+10}),t("body").find(".navBox").css({width:parseInt(trueW)+10,height:parseInt(trueH)+10}),t("body").find(".fvnInforBox").css({width:parseInt(trueW)+10,height:parseInt(trueH)+10}),e.number?t("body").find(".fvnInforBox .fvnNumber").html(parseInt(i)+1+" of "+s):t("body").find(".fvnInforBox .fvnNumber").html(""),void 0!==o&&e.caption?t("body").find(".fvnInforBox .fvnCaption").html(o):t("body").find(".fvnInforBox .fvnCaption").html("")},a)})},settingClose:function(i,e){if(""!=i&&void 0!==i)return t(".navBox").removeClass(i.split(".")[1]),t(".fullImg").addClass("hidden").find("img").remove(),t(".fullImg").find(".imgBox").css({width:"",height:""}),t(".navBox").addClass("hidden"),t(".fvnInforBox").addClass("hidden"),i=""}},g={init:function(t){"setSuffix"==t.opt?this.setListSuffix(t.suffix):"setSizePercent"==t.opt&&this.setSizePercent(void 0===t.width?80:t.width>90?90:t.width<50?50:t.width,void 0===t.height?80:t.height>90?90:t.height<50?50:t.height)},setListSuffix:function(i){if(void 0===f[i]){f[i]={};var e=t("body img").attr("src"),n=e.split("/")[t(this).length];e=e.split(n)[0],t.get(e,function(e){t(e).find("a[href*="+i+"]").each(function(e,n){var a=t(n).attr("href").split("-"+i)[0];f[i][e]=a})})}},setSizePercent:function(i,a){var o=t(window).outerWidth(!1),s=t(window).outerHeight(!0);e=o<s?o*i/100:o<=640?o*(i>=50&&i<=79?i:i-20)/100:o*(i<=90&&i>=80?i:i+5)/100,n=o<s?s*a/100:o<=640?s*(a>=50&&a<=79?a:a-20)/100:s*(a<=90&&a>=80?a:a+5)/100},setListImg:function(i,e){let n=t(i).find("img[data-except='false']");t.each(n,function(i,e){t(e).attr("data-index",i)}),r.init(i,e,n)},except:function(i,e,n){const a=t(e).find(i),o=this;0!=a.length?t.each(a,function(i,s){void 0===t(s).attr("src")?t(t(s).find("img")).length>=1&&t(t(s).find("img")).attr("data-except",!0):t(s).attr("data-except",!0),i==a.length-1&&o.setListImg(e,n)}):o.setListImg(e,n)},slick:function(i,e){t(i).slick(e)},detectDevice:function(){var t=!1;return(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4)))&&(t=!0),t},setResizeImg:function(i){if(this.detectDevice()&&!t(".fullImg").hasClass("fvnNavBox")?(t(".navBox").removeClass("fvnNavBox"),t(".fullImg").addClass("fvnNavBox")):!this.detectDevice()&&t(".fullImg").hasClass("fvnNavBox")&&(t(".navBox").addClass("fvnNavBox"),t(".fullImg").removeClass("fvnNavBox")),this.setSizePercent(void 0===i.width?80:i.width>90?90:i.width<50?50:i.width,void 0===i.height?80:i.height>90?90:i.height<50?50:i.height),!t(".fullImg").hasClass("hidden")){var e=u.detectImageSize(t("body").find(".fullImg .appearOpa").prop("naturalWidth"),t("body").find(".fullImg .appearOpa").prop("naturalHeight")).trueWidth,n=u.detectImageSize(t("body").find(".fullImg .appearOpa").prop("naturalWidth"),t("body").find(".fullImg .appearOpa").prop("naturalHeight")).trueHeight;t("body").find(".fullImg img").css({width:e,height:n}).addClass("fastAnimate"),t("body").find(".imgBox").css({width:e+10,height:n+10}).addClass("fastAnimate"),t("body").find(".navBox").css({width:e+10,height:n+10}).addClass("fastAnimate"),t("body").find(".fvnInforBox").css({width:e+10,height:n+10}).addClass("fastAnimate")}},settingRemoveFunc:function(){"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)})}}});